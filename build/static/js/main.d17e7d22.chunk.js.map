{"version":3,"sources":["components/Contacts.js","components/Filter.js","components/Newform.js","components/Notification.js","services/personService.js","App.js","index.js"],"names":["Contact","person","deleteFun","name","number","onClick","Contacts","persons","filterInput","filter","p","toLowerCase","includes","map","key","id","Filter","filterInputChange","value","onChange","Newform","nameInput","nameInputChange","numberInput","numberInputChange","addButtonClick","type","Notification","message","angry","color","style","borderColor","className","baseUrl","axios","get","then","response","data","newPerson","post","delete","status","catch","err","put","App","useEffect","personService","pers","setPersons","useState","nboxInit","setNameInput","setNumberInput","setFilterInput","notificationBox","setNotificationBox","setQuickNotification","msg","setTimeout","e","target","preventDefault","trim","i","window","confirm","resultingPerson","concat","length","result","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d17e7d22.chunk.js","sourcesContent":["import React from 'react'\n\nconst Contact = ({person, deleteFun}) => \n    (\n        <tr>\n            <td>{person.name}</td>\n            <td>{person.number}</td>\n            <td><button onClick={deleteFun}>del</button></td>\n        </tr>\n    )\n\nconst Contacts = ({persons,filterInput, deleteFun}) =>\n  (\n    <table>\n        <tbody>\n        {persons\n            .filter((p)=>p.name.toLowerCase().includes(filterInput.toLowerCase()))\n            .map((person) => <Contact key={person.name} person={person} deleteFun={() => deleteFun(person.id)}/>)\n        }\n        </tbody>\n    </table>\n  )    \n\nexport default Contacts","import React from 'react'\n\nconst Filter = ({filterInput,filterInputChange}) =>\n  (\n    <div>\n      <input value={filterInput} onChange={filterInputChange}/>\n    </div>\n  )\n\nexport default Filter","import React from 'react'\n\nconst Newform = ({nameInput, nameInputChange, \n    numberInput, numberInputChange, addButtonClick}) => \n    (\n      <form>\n        <div>\n          Add new contact: \n          <input value={nameInput} onChange={nameInputChange}/>\n          <input value={numberInput} onChange={numberInputChange}/>\n        </div>\n        <div>\n          <button type=\"submit\" onClick={addButtonClick}>add</button>\n        </div>\n      </form>\n    )  \n\nexport default Newform","import React from 'react'\n\nconst Notification = ({message,angry}) => {\n    if(message === null) {\n        return null\n    }\n    const color = angry? 'red':'green'\n    const style = {\n        borderColor:color,\n        color:color\n    }\n    return (\n        <div className=\"notification\" style={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\n//const baseUrl = 'http://localhost:3001/persons'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n    const req = axios.get(baseUrl)\n    return req.then(response => response.data)\n}\n\nconst addOne = newPerson => {\n    const req = axios.post(baseUrl, newPerson)\n    return req.then(response => response.data)\n}\n\nconst removeOne = id => {\n    const req = axios.delete(`${baseUrl}/${id}`)\n    return req.then(response => response.status).catch(err => err.response?err.response.status:err)\n}\n\nconst updateOne = (id, newPerson) => {\n    const req = axios.put(`${baseUrl}/${id}`, newPerson)\n    return req.then(response => response.data)\n}\n\nexport default { getAll, addOne, removeOne, updateOne }","import React, {useState, useEffect} from 'react'\nimport Contacts from './components/Contacts'\nimport Filter from './components/Filter'\nimport Newform from './components/Newform'\nimport Notification from './components/Notification'\nimport personService from './services/personService'\n\nconst App = () => {\n  useEffect(() => {\n    personService.getAll()\n      .then((pers) => {\n          setPersons(pers)\n      })\n  }, [])\n\n  // const [ persons, setPersons] = useState([\n  //   { name: 'Arto Hellas', number: '0401234567' },\n  //   { name: 'Tero Nuppi', number:'0500987654'},\n  //   { name: 'Arto Paasilinna', number: '0404040404'},\n  //   { name: 'json server', number: 'is not running'},\n  //   { name: 'do it now', number: 'npm run server'},    \n  // ]) \n  const [ persons, setPersons] = useState([]) \n\n  const nboxInit = {message:null,angry:false}\n  const [nameInput, setNameInput] = useState('')\n  const [numberInput, setNumberInput] = useState('')\n  const [filterInput, setFilterInput] = useState('')\n  const [notificationBox, setNotificationBox] = useState(nboxInit)\n  const setQuickNotification = (msg,angry) => {\n    setNotificationBox({message:msg, angry:angry})\n    setTimeout(() => {\n      setNotificationBox(nboxInit)\n    },5000)\n\n  }\n\n  const nameInputChange = (e) => setNameInput(e.target.value)\n  const numberInputChange = (e) => setNumberInput(e.target.value)\n  const filterInputChange = (e) => setFilterInput(e.target.value)\n\n  const addButtonClick = (e) => {\n    e.preventDefault()\n    if(nameInput.trim() === '') return false // no invisible names\n    if(persons.map((i) => i.name).includes(nameInput)) {\n      if(!window.confirm(`Name ${nameInput} exists, update number?`)) return\n      const id = persons.filter(p => p.name === nameInput)[0].id\n      const updatedPerson = {name: nameInput, number: numberInput, id: id}\n      personService.updateOne(id, updatedPerson)\n        .then(resultingPerson => {\n          setPersons(persons.map(p => p.id !== resultingPerson.id ? p : resultingPerson))\n          setQuickNotification(`Updated ${nameInput}`,false)\n        }).catch(err => {\n          setQuickNotification(`Can't find ${nameInput} on server`,true)\n        })\n    } else { // name does not exist\n      personService.addOne({name: nameInput, number: numberInput})\n      .then((pers) => {\n        setPersons(persons.concat(pers))\n        setQuickNotification(`Added ${nameInput}`,false)\n      })\n    }\n    setNameInput('')\n    setNumberInput('')\n  }\n\n  const deleteContact = id => {\n    const name = persons.filter(p => p.id === id)[0].name\n    if(!window.confirm(`Delete contact ${name}?`)) return\n    personService.removeOne(id).then(result => {\n      if(result === 204) {\n        setPersons(persons.filter(p => p.id !== id))\n        setQuickNotification(`Deleted ${name}`,false)\n      } else if (result === 404) {\n        setQuickNotification(`${name} missing on server, removeing clientside too`,true)\n        console.log(`${name} missing on server, removeing clientside too`,result)\n        setPersons(persons.filter(p => p.id !== id))\n      } else {\n        setQuickNotification(`Something broke, find help!\\n(or run the json server)`,true)\n      }\n    })\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notificationBox.message} angry={notificationBox.angry}/>\n      <h2>Add new</h2>\n      <Newform nameInput={nameInput}\n        nameInputChange={nameInputChange}\n        numberInput={numberInput}\n        numberInputChange={numberInputChange}\n        addButtonClick={addButtonClick}\n      />\n      <h2>Filter</h2>\n      <Filter filterInput={filterInput} filterInputChange={filterInputChange}/>\n      <h2>Contacts{filterInput.length>0?'*':''}</h2>\n      <Contacts persons={persons} filterInput={filterInput} deleteFun={deleteContact}/>\n    </div>\n  )\n\n}\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}